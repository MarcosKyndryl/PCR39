<h1>Ejecuciones</h1>

<div class="filtros">
  <div>
    <label for="tipo">Tipo:</label>
    <select id="tipo" [(ngModel)]="selectedTipo" (ngModelChange)="actualizarFiltros()">
      <option *ngFor="let tipo of tipos" [value]="tipo">{{ tipo }}</option>
    </select>
  </div>
  <div>
    <label for="desde">Desde:</label>
    <input id="desde" type="date" [(ngModel)]="desde" (ngModelChange)="actualizarFiltros()">
  </div>
  <div>
    <label for="hasta">Hasta:</label>
    <input id="hasta" type="date" [(ngModel)]="hasta" (ngModelChange)="actualizarFiltros()">
  </div>
  <button (click)="limpiarFiltros()">Limpiar Filtros</button>
</div>

<div *ngIf="cargando" class="spinner">
  <p>Cargando...</p>
</div>

<table *ngIf="ejecuciones.length > 0 && !cargando">
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Fecha</th>
      <th>Hora</th>
      <th>Archivo Log</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let ejecucion of ejecuciones">
      <td>{{ ejecucion.tipo }}</td>
      <td>{{ ejecucion.fecha }}</td>
      <td>{{ ejecucion.hora }}</td>
      <td>{{ ejecucion.log }}</td>
    </tr>
  </tbody>
</table>

<div *ngIf="ejecuciones.length === 0 && !cargando">
  <p>No se encontraron resultados.</p>
</div>

<div *ngIf="totalPaginas > 1 && !cargando">
  <button (click)="cambiarPagina(paginaActual - 1)" [disabled]="paginaActual === 1">Anterior</button>
  <span>PÃ¡gina {{ paginaActual }} de {{ totalPaginas }}</span>
  <button (click)="cambiarPagina(paginaActual + 1)" [disabled]="paginaActual === totalPaginas">Siguiente</button>
</div>
